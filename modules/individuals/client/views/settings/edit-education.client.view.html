<div ng-controller="EducationController">
  <section class="row">
    <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4">
      <form name="vm.educationForm" ng-submit="vm.updateEducation(vm.educationForm.$valid)" novalidate autocomplete="off">
        <div ng-repeat="degree in vm.degrees as results track by $index">
          <fieldset>
          <div class="individual-bio-element">
            
            <div class="form-group" show-errors>
              <label for="degreeLevel{{$index}}">Degree Level</label>
              <select id="degreeLevel{{$index}}" name="degreeLevel{{$index}}" class="form-control" ng-model="vm.degrees[$index].degreeLevel" ng-options="x for x in vm.degreeLevels" required>
              </select>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolName{{$index}}">School Name</label>
              <input type="text" id="schoolName{{$index}}" name="schoolName{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolName" placeholder="School Name" required>
              <div ng-messages="vm.educationForm.schoolName['schoolName'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School Name is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="startDate{{$index}}">First Date Attended</label>
              <input type="text" id="startDate{{$index}}" name="startDate{{$index}}" class="form-control" ng-model="vm.degrees[$index].startDate" placeholder="First Date Attended" required>
              <div ng-messages="vm.educationForm.startDate['startDate'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">First Date Attended is required.</p>
                <p class="help-block error-text" ng-message="startDate{{$index}}">First Date Attended is invalid.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="endDate{{$index}}">Last Date Attended</label>
              <input type="text" id="endDate{{$index}}" name="endDate{{$index}}" class="form-control" ng-model="vm.degrees[$index].endDate" placeholder="Last Date Attended" required>
              <div ng-messages="vm.educationForm['endDate'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">Last Date Attended is required.</p>
                <p class="help-block error-text" ng-message="endDate{{$index}}">Last Date Attended is invalid.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="concentration{{$index}}">Concentration</label>
              <input type="text" id="concentration{{$index}}" name="concentration{{$index}}" class="form-control" ng-model="vm.degrees[$index].concentration" placeholder="Concentration" required>
              <div ng-messages="vm.educationForm['concentration'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">Concentration is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolStreetAddress{{$index}}">School Street Address</label>
              <input type="text" id="schoolStreetAddress{{$index}}" name="schoolStreetAddress{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolStreetAddress" placeholder="School Street Address" required>
              <div ng-messages="vm.educationForm['schoolStreetAddress'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School Street Address is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolCity{{$index}}">School City</label>
              <input type="text" id="schoolCity{{$index}}" name="schoolCity{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolCity" placeholder="School City" required>
              <div ng-messages="vm.educationForm['schoolCity'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School City is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolState{{$index}}">School State/Province</label>
              <input type="text" id="schoolState{{$index}}" name="schoolState{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolState" placeholder="School State / Province" required>
              <div ng-messages="vm.educationForm['schoolState'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School State is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolZipCode{{$index}}">School Zip Code/Mail Code</label>
              <input type="text" id="schoolZipCode{{$index}}" name="schoolZipCode{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolZipCode" placeholder="School Zip Code / Mail Code" required>
              <div ng-messages="vm.educationForm['schoolZipCode'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School Zip Code / Mail Code is required.</p>
              </div>
            </div>
            
            <div class="form-group" show-errors>
              <label for="schoolCountry{{$index}}">School Country</label>
              <select id="schoolCountry{{$index}}" name="schoolCountry{{$index}}" class="form-control" ng-model="vm.degrees[$index].schoolCountry" ng-options="x.name for x in vm.countries" required>
              </select>
              <div ng-messages="vm.educationForm['schoolCountry'+$index].$error" role="alert">
                <p class="help-block error-text" ng-message="required">School Country is required.</p>
              </div>
            </div>
            
            <button type="button" class="btn" ng-click="vm.removeDegree($index)">Remove this Degree</button>
          </fieldset>
        </div> <!-- end ng-repeat -->
          <div class="text-center form-group">
            <button type="submit" class="btn btn-primary">Save Education</button>
            <button type="button" class="btn" ng-click="vm.addDegree()">Add a Degree</button>
          </div>
      </form>
    </div>
  </section>
</div>
